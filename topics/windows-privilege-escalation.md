# Повышение привилегий в Windows (Windows Privilege Escalation)

## Описание
Повышение привилегий в Windows — процесс получения прав администратора или SYSTEM из обычного пользователя. Включает множество техник: эксплойты ядра, поиск паролей, олицетворение токенов, картофельные атаки, альтернативные потоки данных, использование WSL и автоматизированные инструменты.

## Уровень
Продвинутый

## Методы повышения привилегий

### Перечисление систем Windows
- Ручное перечисление: анализ системной информации, пользователей, сетей, сервисов.
- Автоматизированные инструменты: WinPEAS, Watson, Sherlock, PowerUp, Jaws, Windows Exploit Suggester.
- Важность пошагового подхода и использования нескольких инструментов.

### Эксплойты ядра Windows
- Поиск уязвимостей ядра на основе версии Windows и архитектуры.
- Использование системной информации для определения версии ОС.
- Примеры эксплойтов: Chimichurri, MS10-059, различные kernel exploits из GitHub.
- Компиляция и запуск эксплойтов для получения прав SYSTEM.

### Поиск паролей
- Поиск паролей в файлах SAM, реестре, конфигурационных файлах (VNC, INI).
- Анализ реестра для поиска сохранённых паролей.
- Поиск паролей в конфигурационных файлах и других ресурсах.
- Использование инструментов для автоматизации поиска паролей.

### Олицетворение токенов (Token Impersonation)
- Использование олицетворения токенов для получения доступа к ресурсам, доступным только для администраторов.
- Метод может быть полезен для выполнения различных задач, таких как сброс хэшей с контроллера домена.
- Использование встроенного инструмента "get system" в Metasploit.

### Картофельные атаки (Potato Attacks)
- Разновидность атаки с использованием учетных данных.
- Использование учетных данных для аутентификации через NTLM на конечной точке TCP, которую злоумышленник контролирует.
- Простой способ вызвать эскалацию в системе для получения доступа к привилегированным учетным записям.
- Использование Metasploit для проведения картофельной атаки.

### Альтернативные потоки данных (Alternate Data Streams)
- Альтернативные потоки данных могут быть использованы для скрытия информации внутри файлов.
- Могут быть использованы для сокрытия информации, которая может быть использована для получения доступа к привилегированным учетным записям.

### Windows Subsystem for Linux (WSL)
- Подсистема Windows для Linux позволяет запускать Linux поверх Windows.
- Может привести к повышению привилегий и уязвимостям.
- Использование wsl.exe и bash.exe для получения доступа к Linux-терминалу.

### Переадресация портов
- Использование инструмента Plink для переадресации портов.
- Создание простого HTTP-сервера на Python для переадресации порта.
- Использование Winexe для получения оболочки на удаленном компьютере.

### Использование Impacket
- Установка Impacket и использование psexec для получения доступа к системе.
- Использование psexec для запуска команд для получения доступа к файловой системе.

### Запуск от имени пользователя
- Команда "Запуск от имени пользователя" позволяет выполнять команды от имени другого пользователя.
- Использование команды "Запуск от имени администратора" для получения доступа к компьютеру.

## Инструменты для перечисления

### Автоматизированные инструменты
- **WinPEAS**: скрипт для повышения привилегий в Windows с цветовой координацией.
- **Watson**: инструмент для проверки уязвимостей в Windows.
- **Sherlock**: инструмент для поиска уязвимостей и перечисления.
- **PowerUp**: PowerShell скрипт для поиска уязвимостей.
- **Jaws**: инструмент для проверки уязвимостей.
- **Windows Exploit Suggester**: программа для поиска эксплойтов для Windows (написана на Python).

## Ресурсы для изучения
- Payloads All The Things — современное руководство по повышению привилегий Windows
- Hack The Box — платформа для практики
- TryHackMe — платформа для практики
- Windows Priv Esc методики

## Важные предупреждения
- Использование только в образовательных целях и с разрешения.
- Тестирование только на собственных системах или с явного разрешения.
- Понимание юридических последствий незаконного использования.

## Заметки
(Добавляйте свои заметки, примеры кода или ссылки на видео.)

