# Псевдо-эксплойты (Sudo Exploits)

## Описание
Псевдо-эксплойты — техники злоупотребления sudo для получения прав root. Sudo позволяет пользователям запускать команды от имени root, и неправильная конфигурация или уязвимости могут привести к эскалации привилегий.

## Уровень
Продвинутый

## Методы эксплуатации

### Перечисление sudo привилегий
- Использование команды `sudo -l` для проверки привилегий.
- Анализ разрешённых команд для поиска уязвимостей.
- Возможность запуска команд от имени root без пароля.

### Злоупотребление уязвимыми бинарниками
- Использование GTFO Bins для поиска уязвимых бинарников.
- Примеры: vim, awk, wget, Apache.
- Создание escape-последовательностей для получения оболочки root.

### Vim
- Vim может создавать интерактивные и неинтерактивные оболочки.
- Выполнение команд suid и sudo через vim.
- Пример использования vim для получения оболочки в качестве пользователя root.

### Awk
- Использование sudo привилегий для создания системы повышения производительности.
- Пример использования awk для получения доступа к root.

### Wget
- Пользовательская корзина позволяет загружать файлы с веб-сервера.
- В wget есть функциональность, позволяющая злоупотреблять привилегиями.
- Пример использования команды post file для получения корневого хэша.

### Apache
- Обсуждение использования sudo функциональности Apache для доступа к системным файлам.
- Пример просмотра файла shadow через sudo функциональность.

## CVE уязвимости

### CVE-2019-14287
- Уязвимость, обнаруженная 15 октября 2019 года.
- Позволяет запустить `/bin/bash` от имени root.
- Использование команды `sudo -u#-1` для получения root-доступа.
- Объяснение работы функции sudo и её влияния на идентификатор пользователя.

### CVE-2019-18634
- Уязвимость sudo с обратной связью pw (буферное переполнение).
- Актуальность и распространённость уязвимости.
- При вводе пароля появляются звёздочки (обратная связь pw).
- Уязвимые версии sudo ниже 1.8.26.
- Примеры уязвимых систем: Linux Mint, Elementary OS.
- Реализация эксплойта на языке C для получения прав root.

## LD_PRELOAD атаки
- Объяснение уязвимости предварительной загрузки ld.
- ld — динамический компоновщик в Unix-системах.
- Предварительная загрузка библиотеки позволяет запускать её перед другими библиотеками.
- Создание вредоносной библиотеки для эскалации привилегий.
- Компиляция и запуск кода для получения прав root.

## Важность нестандартного мышления
- Всегда ищите нестандартные способы использования функций.
- Работа с Google помогает находить неочевидные решения.
- Требуется глубокое понимание функциональности инструментов.

## Ресурсы для изучения
- GTFO Bins — база данных уязвимых бинарников
- TryHackMe — платформа для практики
- Linux Privesc Playground — бесплатный ресурс для практики

## Заметки
(Добавляйте свои заметки, примеры кода или ссылки на видео.)

