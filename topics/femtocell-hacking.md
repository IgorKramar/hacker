# Взлом фемтосот (Femtocell Hacking)

## Описание
Фемтосоты (femtocells) — мини-вышки сотовой связи, используемые как сетевые удлинители для улучшения покрытия в помещении. Злоумышленники могут взламывать фемтосоты для перехвата мобильного трафика, SMS-сообщений и голосовых вызовов, создавая мини-скаты (IMSI catchers) для шпионажа.

## Уровень
Продвинутый

## Принцип работы фемтосот
- Фемтосота работает как сетевой удлинитель для сотовой связи.
- Перехват сигналов сотовых телефонов через Интернет.
- Устройство должно быть установлено в пределах 15 футов (около 4.5 метров) от цели.
- Телефон подключается к фемтосоте через обычные соединения сотовой связи.
- Фемтосота подключается к широкополосному шлюзу через Ethernet.
- Шлюз подключается к Интернету и сети оператора.

## Методы взлома

### Физический доступ
- Использование HDMI-соединения для взлома.
- Необходимость специального кабеля для доступа к устройству.
- Подключение HDMI и FTDI кабелей.
- Получение доступа к консоли внутри фемтосоты.

### Получение root-доступа
- Для получения root-доступа к устройству необходимо использовать консоль.
- Некоторые операторы используют два метода повышения привилегий.
- Пароль root по умолчанию может быть основан на серийном номере устройства (например, "publix" + последние 4 цифры).
- Подключение к корпоративным фемтосотам проще через Ethernet.
- Даже с root-доступом функциональность устройства может быть ограничена.

### Прошивка устройств
- Можно загрузить образы Linux для прошивки устройств интернета вещей.
- Прошивка позволяет устанавливать вредоносные программы и прослушивать трафик.
- Использование OpenWRT для создания прошивок с открытым исходным кодом.
- Изменение ядра Linux для перехвата трафика до шифрования.

## Внутреннее устройство

### Ядро Linux
- Внутри фемтосоты находится ядро Linux (Montana Linux / Monta Linux).
- Montana Linux применяется в устройствах интернета вещей (IoT).
- В Montana Linux нет оболочки bash, что усложняет работу.
- Взлом устройства с Montana Linux требует значительных усилий.

### Ограничения
- Трафик зашифрован от начала до конца.
- Необходимо перехватить трафик до шифрования.
- Изменение ядра Linux позволяет видеть весь трафик.
- Для расшифровки SMS и голосового трафика необходимы специальные кодеки.

## Перехват трафика

### Прослушивание данных
- Прослушивание трафика данных возможно без эксплойтов.
- Использование tcpdump или Wireshark для наблюдения за трафиком.
- Для декодирования SMS и голосового трафика нужны подходящие кодеки.
- Некоторые исследователи пытаются перехватить трафик внутри устройства.

### Уязвимости
- Фемтосоты позволяют прослушивать SMS-сообщения и интернет-трафик.
- SMS-сообщения зашифрованы, но их можно расшифровать.
- Исследования по взлому таких устройств существуют и были опубликованы.
- Уязвимости были продемонстрированы на конференциях по безопасности (Black Hat 2011).

## Создание шпионского устройства
- Создание мини-ската (IMSI catcher) для перехвата мобильного трафика.
- Шпионский инструмент позволяет прослушивать весь трафик и контролировать настройку фемтосети.
- Использование для прослушивания разговоров и взлома телефонов.

## Инструменты и технологии

### Программное обеспечение
- **OpenWRT**: прошивки с открытым исходным кодом для устройств интернета вещей.
- **Ruby**: создание эксплойтов для внедрения в фемтосотовую ячейку.
- **tcpdump/Wireshark**: наблюдение за трафиком данных.

### Аппаратное обеспечение
- **HackRF**: устройство для работы с радиочастотой (полудуплексное, медленное).
- **Lime SDR**: более продвинутое устройство с полным дуплексом и более высокими скоростями.

## Реалистичность взлома
- Взлом фемтосотовой ячейки технически реалистичен.
- Временные рамки в фильмах/сериалах могут быть нереалистичными.
- Исследования по взлому таких устройств существуют и доступны.

## Защита от взлома фемтосот
- Регулярное обновление прошивки фемтосот.
- Изменение паролей по умолчанию.
- Ограничение физического доступа к устройствам.
- Мониторинг сетевой активности.
- Использование шифрования трафика.

## Важные предупреждения
- Использование только в образовательных целях и с разрешения.
- Тестирование только на собственных устройствах или с явного разрешения.
- Понимание юридических последствий незаконного использования.
- Взлом чужих устройств является незаконным.

## Ресурсы для изучения
- Исследования по взлому фемтосот (Black Hat, DEF CON)
- OpenWRT документация
- Методики защиты от взлома фемтосот
- Best practices для безопасной настройки фемтосот

## Заметки
(Добавляйте свои заметки, примеры кода или ссылки на видео.)

